<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Thank You!</title>
  <script>
  async function loadDonation() {
    const params = new URLSearchParams(window.location.search);
   const sessionId = params.get("session_id");
   const donationId = params.get("donation_id");
    document.getElementById("message").textContent = "Loading paymentâ€¦";
   // Next: fetch by sessionId (old way)
   // const resp = await fetch(`/donations/by-session/${sessionId}`);
   const resp = await fetch(`/donate/${donationId}`);
    const donation = await resp.json();
    document.getElementById("message").textContent =
      `Thanks! You donated â‚¬${donation.amount.toFixed(2)}.`;
  }
  window.onload = loadDonation;
  </script>
  <style>
    body { font-family: sans-serif; text-align: center; padding: 2rem; }
  </style>
</head>
<body>
  <h1>ðŸŽ‰ Thank You! ðŸŽ‰</h1>
  <p id="message"></p>
</body>
</html>